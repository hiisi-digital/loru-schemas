{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "PluginMetadata",
  "type": "object",
  "additionalProperties": false,
  "required": ["id", "name"],
  "properties": {
    "id": {
      "type": "string",
      "pattern": "^[a-z0-9-]+$",
      "description": "Unique slug for the plugin (lowercase, kebab-case)."
    },
    "name": {
      "type": "string",
      "description": "Human-readable name for the plugin."
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+(?:-[0-9A-Za-z.-]+)?$",
      "description": "Plugin version in semver format.",
      "default": "0.1.0"
    },
    "description": {
      "type": "string",
      "description": "Short description of what the plugin does."
    },
    "author": {
      "type": "string",
      "description": "Plugin author or maintainer."
    },
    "license": {
      "type": "string",
      "description": "License identifier (SPDX).",
      "default": "MPL-2.0"
    },
    "template_version": {
      "type": "string",
      "description": "Template version/tag this plugin was scaffolded from."
    },
    "entry": {
      "type": "string",
      "description": "Path to the plugin entry module.",
      "default": "mod.ts"
    },
    "permissions": {
      "type": "array",
      "description": "Capabilities the plugin requests.",
      "items": { "type": "string" }
    },
    "tags": {
      "type": "array",
      "description": "Free-form labels for categorization.",
      "items": { "type": "string" }
    },
    "config": {
      "type": "object",
      "description": "Plugin-specific configuration values.",
      "additionalProperties": true
    }
  }
}
